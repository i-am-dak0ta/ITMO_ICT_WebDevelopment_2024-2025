# Уборка номера

### Описание

Этот эндпоинт возвращает список сотрудников, которые убирали указанный номер в заданный день недели.

---

### URL

`GET /clients/room-cleaner`

---

### Параметры запроса

Эндпоинт принимает параметры в строке запроса (`query parameters`).

| Параметр     | Тип данных | Обязательный | Описание                                                                 |
|--------------|------------|--------------|--------------------------------------------------------------------------|
| `client_id`  | `integer`  | Да           | ID клиента, чей номер нужно проверить на уборку.                         |
| `day_of_week`| `string`   | Да           | День недели, когда требуется проверить уборку. Допустимые значения: `MONDAY`, `TUESDAY`, `WEDNESDAY`, `THURSDAY`, `FRIDAY`, `SATURDAY`, `SUNDAY`. |

---

### Пример запроса

```http
GET /clients/room-cleaner?client_id=1&day_of_week=MONDAY
```

---

### Успешный ответ (200)

```json
{
    "count": 2,
    "employees": [
        {
            "id": 1,
            "first_name": "Иван",
            "last_name": "Иванов",
            "middle_name": "Сергеевич"
        },
        {
            "id": 2,
            "first_name": "Анна",
            "last_name": "Смирнова",
            "middle_name": null
        }
    ]
}
```

#### Поля ответа

| Поле                  | Тип данных    | Описание                                                       |
|------------------------|---------------|---------------------------------------------------------------|
| `count`               | `integer`     | Общее количество сотрудников, участвовавших в уборке.         |
| `employees`           | `array`       | Список сотрудников, убирающих номер.                          |
| `employees.id`        | `integer`     | ID сотрудника.                                                |
| `employees.first_name`| `string`      | Имя сотрудника.                                               |
| `employees.last_name` | `string`      | Фамилия сотрудника.                                           |
| `employees.middle_name`| `string/null`| Отчество сотрудника, если указано.                            |

---

### Ошибки

#### Неверный запрос (422)

Пример ответа:

```json
{
    "detail": "Недопустимое значение для 'day_of_week'. Допустимые значения: ['MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY']."
}
```

| Код   | Описание                                                         |
|-------|-----------------------------------------------------------------|
| 422   | Некорректные данные, например, недопустимый день недели.         |

#### Клиент не найден (404)

Пример ответа:

```json
{
    "detail": "Клиент с id 1 не найден."
}
```

#### Уборка не найдена (404)

Пример ответа:

```json
{
    "detail": "Нет данных об уборке номера клиента с id 1 в понедельник."
}
```

---

### Примечания

- Параметр `client_id` обязателен. Если клиент с указанным ID не найден, запрос завершится ошибкой.
- Параметр `day_of_week` обязателен. Укажите день недели в формате `MONDAY`, `TUESDAY`, и т.д.
- Если ни один сотрудник не найден для указанного номера в заданный день недели, будет возвращен код ответа `404` с соответствующим сообщением.
- Поиск ведется по последнему бронированию клиента, связанному с номером.